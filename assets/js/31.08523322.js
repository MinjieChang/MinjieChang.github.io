(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{411:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mac是如何在全局中添加命令的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mac是如何在全局中添加命令的"}},[s._v("#")]),s._v(" mac是如何在全局中添加命令的")]),s._v(" "),a("h3",{attrs:{id:"引子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引子"}},[s._v("#")]),s._v(" 引子")]),s._v(" "),a("p",[s._v("当我们在mac中安装了node或者git后，然后就可以在命令行中使用node和git命令了。那mac是如何在全局中添加这些命令的呢？")]),s._v(" "),a("h3",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[s._v("#")]),s._v(" 环境变量")]),s._v(" "),a("p",[s._v("之所以可以使用这些命令，是因为系统把这些命令添加到了环境变量中，mac存储环境变量主要有这几个地方：")]),s._v(" "),a("ul",[a("li",[s._v("/etc/profile")]),s._v(" "),a("li",[s._v("/etc/bashrc (mac默认shell是bash，配置文件是bashrc, 最新mac系统默认使用zsh，配置文件是zshrc)")]),s._v(" "),a("li",[s._v("/etc/paths")]),s._v(" "),a("li",[s._v("~/.bash_profile # mac")]),s._v(" "),a("li",[s._v("~/.bash_login")]),s._v(" "),a("li",[s._v("~/.profile")]),s._v(" "),a("li",[s._v("~/.bashrc # linux")])]),s._v(" "),a("p",[s._v("mac系统在启动时候，会依次查看这些文件，其中前三个命令是系统级别的，对所有用户会生效；后面几个是用户级别的，其中.bash_profile是mac系统下的用户配置，.bashrc是linux下的配置")]),s._v(" "),a("p",[s._v("然后查看/etc/paths下的内容")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/paths\n")])])]),a("p",[s._v("返回的结果如下：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin\n")])])]),a("p",[s._v("然后再来到/usr/local/bin")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/bin\n")])])]),a("p",[s._v("结果如下，这里面列出的是安装在全局的命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("brew             code             create-react-app n                node             "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v("              npx\n")])])]),a("p",[s._v("实际上，我们还可以再进入到其中一个文件中，比如npm，可以看到里面就是js文件，使用node来执行的。")]),s._v(" "),a("p",[s._v("同样的，打开/bin目录，得到结果如下，这里只列出部分内内容，这些是系统置的命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v("      unlink\n")])])]),a("p",[s._v("至此，我们就知道了，为什么安装了相关软件后就能在全局中使用命令行来执行了。")]),s._v(" "),a("h3",{attrs:{id:"which-与-where"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#which-与-where"}},[s._v("#")]),s._v(" which 与 where")]),s._v(" "),a("p",[s._v("如果在这些目录中找到某个命令存放在哪个目录下会很麻烦。使用which和where命令可以快速进行定位")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("where "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/bin/git")]),s._v("\n")])])]),a("h3",{attrs:{id:"自定义命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义命令"}},[s._v("#")]),s._v(" 自定义命令")]),s._v(" "),a("p",[s._v("知道了mac是如何在全局中添加命令的原因后，我们就可以添加自定义的命令行了。我们可以添加系统级别的和用户级别的两种")]),s._v(" "),a("h4",{attrs:{id:"系统级自定义命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统级自定义命令"}},[s._v("#")]),s._v(" 系统级自定义命令")]),s._v(" "),a("p",[s._v("我们可以模仿nvm，在/usr/local/bin下增加一个文件比如now，然后增加如下内容：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("#"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("env node\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" date "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" year "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFullYear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" month "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMonth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" day "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" hour "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHours")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" minute "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMinutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" second "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSeconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("year"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("month"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("day"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("hour"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("minute"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("second"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("目的就是打印出当前的时间")]),s._v(" "),a("p",[s._v("注意，需要给此文件添加执行权限：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/now "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +x 表示执行权限")]),s._v("\n")])])]),a("p",[s._v("然后重新链接一下shell配置文件：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/paths\n")])])]),a("p",[s._v("最后在终端中输入 now 即可生效，还是很简单的")]),s._v(" "),a("h4",{attrs:{id:"用户级自定义命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户级自定义命令"}},[s._v("#")]),s._v(" 用户级自定义命令")]),s._v(" "),a("p",[s._v("用户级的命令主要是在.bash_profile或者.zshrc文件中映射PATH环境变量即可：")]),s._v(" "),a("p",[s._v("1、在桌面上新增一个文件夹myCmd，然后新增一个文件a")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/Desktop "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" mycmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" a\n")])])]),a("p",[s._v("2、然后在a中添加如下内容")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/local/bin/node")]),s._v("\n\nconsole.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("3、给此文件添加执行权限")]),s._v(" "),a("p",[s._v("4、修改 ~/.zshrc，增加这行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/bin:/usr/local/bin:~/Desktop/myCmd:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])])]),a("p",[s._v("注意，这里不能是添加~/Desktop/myCmd/a")]),s._v(" "),a("p",[s._v("意思是，把myCmd下的文件添加到环境变量中，此时在终端中就可以输入a命令执行了")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("a\n")])])]),a("h3",{attrs:{id:"关于shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于shell"}},[s._v("#")]),s._v(" 关于shell")]),s._v(" "),a("p",[s._v("在最新的OSX系统中(catalina)，mac默认使用zsh作为shell，因此zsh的配置文件为~/.zshrc文件，而在此之前的默认shell是bash")]),s._v(" "),a("p",[s._v("查看系统支持的shell类型")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/shells\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出结果")]),s._v("\n/bin/bash\n/bin/csh\n/bin/ksh\n/bin/sh\n/bin/tcsh\n/bin/zsh\n")])])]),a("p",[s._v("查看当前使用的shell")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$SHELL")]),s._v("\n")])])]),a("p",[s._v("切换shell")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("chsh -s /bin/zsh  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chsh 意味着 change shell")]),s._v("\nchsh -s /bin/bash\n")])])]),a("p",[s._v("refer:")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/25976099",target:"_blank",rel:"noopener noreferrer"}},[s._v("mac添加环境变量"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);