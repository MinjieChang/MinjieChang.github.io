(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{364:function(t,s,a){t.exports=a.p+"assets/img/paint.31107454.svg"},365:function(t,s,a){t.exports=a.p+"assets/img/node.1965b259.png"},366:function(t,s,a){t.exports=a.p+"assets/img/repaint2.062fb794.svg"},367:function(t,s,a){t.exports=a.p+"assets/img/houdini-stage.574d0c26.png"},408:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"css-houdini"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-houdini"}},[t._v("#")]),t._v(" css houdini")]),t._v(" "),n("h2",{attrs:{id:"å‰è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),n("p",[t._v("å¼€å§‹å¬åˆ°houdiniè¿™ä¸ªåç§°ï¼Œå°±åƒåˆšå¬åˆ°reactè¿™ä¸ªä¸œè¥¿ï¼Œä¸€é¡¿æ‡µé€¼ï¼Œä¸çŸ¥æ˜¯ä½•æ–¹å¤§ç¥ã€‚ç»è¿‡ä¸€ç•ªäº†è§£åï¼Œä¹Ÿæ‰å‘ç°å®ƒå¹¶æ²¡æœ‰å¾ˆå¯æ€•ï¼Œä¸è¿‡æ˜¯ä¸ºæˆ‘ä»¬æ¢äº†ä¸€ç§cssçš„å†™æ³•ï¼Œç›¸å¯¹ä»¥å‰ç»™æˆ‘ä»¬æä¾›äº†åº•å±‚APIçš„èƒ½åŠ›ï¼Œè§£æ”¾å¼€å‘è€…è¢«æŸç¼šçš„æ‰‹è„šï¼Œè‡³äºè¦å¦‚ä½•å‘æŒ¥å‡ºå®ƒçš„å¨åŠ›ï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œå‘æŒ¥æƒ³è±¡åŠ›ã€‚ä¸‹é¢è®©æˆ‘ä»¬æ¥ä¸€å±‚å±‚è§£å¼€houdiniçš„ç¥ç§˜çš„é¢çº±ï¼ï¼")]),t._v(" "),n("h2",{attrs:{id:"ç°çŠ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç°çŠ¶"}},[t._v("#")]),t._v(" ç°çŠ¶")]),t._v(" "),n("p",[t._v("åœ¨ä»‹ç»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªé—®é¢˜ï¼Œé¡µé¢æœ‰ä¸ªdivç›’å­ï¼Œcssä¸­è¿™ä¹ˆå†™ï¼Œæƒ³å®ç°ä¸€ä¸ªéšæœºå€¼çš„å®½åº¦ï¼š")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".app")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("random * 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ç›®çš„å¾ˆæ˜ç¡®ï¼Œæƒ³æŠŠä¸Šé¢çš„cssè½¬æˆè¿™æ ·ï¼š")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".app")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.3456 * 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æˆ‘ä»¬ä¼¼ä¹æŸæ‰‹æ— ç­–ï¼Œé™¤éæµè§ˆå™¨ç»™æˆ‘ä»¬æä¾›äº†è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼Œæˆ–è€…ä½¿ç”¨cssé¢„å¤„ç†è¯­è¨€çš„æ¯”å¦‚sassã€scssç­‰(è¿™äº›æˆ‘ä»¬æš‚ä¸è€ƒè™‘)")]),t._v(" "),n("p",[t._v("æ¢ä¸€ç§æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»™cssæ‰“è¡¥ä¸"),n("code",[t._v("(css polyfill)")]),t._v("çš„æ–¹å¼ï¼Œæ—¢ç„¶å®˜æ–¹ä¸æ”¯æŒï¼Œæˆ‘ä»¬å°±åŠ¨æ‰‹å®ç°ä¸€ä¸ª"),n("code",[t._v("æ°‘é—´ç‰ˆçš„random")]),t._v("ï¼Œå› ä¸ºjs polyfillä¸å°±æ˜¯é‚£ä¹ˆåšçš„å—")]),t._v(" "),n("p",[t._v("ä½†æ˜¯js polyfillæ˜¯åŸºäºjsè¯­è¨€çš„åŠ¨æ€ç‰¹æ€§ï¼Œç”¨jsç»™jsæ‰“ä¸Šè¡¥ä¸è¿™æ˜¯å¾ˆå®¹æ˜“å®ç°çš„ï¼Œä½†æ˜¯"),n("strong",[t._v("cssæ²¡æœ‰è¿è¡Œæ—¶çŠ¶æ€")]),t._v("å•Šï¼Œé‚£æˆ‘å¦‚ä½•ç»™å®ƒæ‰“è¡¥ä¸å‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("è¦è§£å†³è¿™ä¸ªï¼Œæˆ‘ä»¬å…ˆç®€å•ç†Ÿæ‚‰ä¸‹æµè§ˆå™¨çš„æ•´ä¸ªæ¸²æŸ“æµç¨‹ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹"}},[t._v("#")]),t._v(" æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼Œæµè§ˆå™¨åœ¨æ¸²æŸ“é¡µé¢æ—¶ï¼Œé¦–å…ˆä¼šè§£æé¡µé¢çš„ HTML å’Œ CSSï¼Œç”Ÿæˆæ¸²æŸ“æ ‘ï¼ˆrendering treeï¼‰ï¼Œå†ç»ç”±å¸ƒå±€ï¼ˆlayoutï¼‰å’Œç»˜åˆ¶ï¼ˆpaintingï¼‰ï¼Œå‘ˆç°å‡ºæ•´ä¸ªé¡µé¢å†…å®¹ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(364),alt:"æ¸²æŸ“æµç¨‹ç¤ºæ„å›¾"}})]),t._v(" "),n("p",[t._v("ä½œä¸ºå¼€å‘è€…ï¼Œè¿™ä¸ªæµç¨‹ä¸Šæˆ‘ä»¬èƒ½æ“ä½œçš„ç©ºé—´å°‘ä¹‹ç”šå°‘ï¼Œæˆ‘ä»¬æ— æ³•æ§åˆ¶æµè§ˆå™¨è§£æhtmlå’Œcssçš„è¿‡ç¨‹ï¼Œä»¥åŠä¹‹åçš„layout å’Œ painting ç¯èŠ‚ï¼Œå¼€å‘å¯ä»¥å‚ä¸è¿™æ•´ä¸ªçš„è¿‡ç¨‹åªèƒ½æ˜¯ç”Ÿæˆ DOM å’Œ CSSOM çš„è¿‡ç¨‹äº†")]),t._v(" "),n("h2",{attrs:{id:"å®ç°polyfill"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°polyfill"}},[t._v("#")]),t._v(" å®ç°polyfill")]),t._v(" "),n("h3",{attrs:{id:"cssom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cssom"}},[t._v("#")]),t._v(" cssom")]),t._v(" "),n("p",[t._v("åŸºäºæ­¤ï¼Œçœ¼å‰ä¸€ç‰‡æ˜æœ—ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹CSSOMä¸‹æ‰‹äº†ï¼Œåœ¨ç”Ÿæˆäº†cssomåï¼Œæˆ‘ä»¬æ‰¾åˆ°å…¶ä¸­çš„randomè¿™ä¸ªä¸œè¥¿ï¼Œå†æŠŠå®ƒç¥ä¸çŸ¥é¬¼ä¸è§‰çš„æ›¿æ¢æˆä¸€ä¸ªéšæœºå€¼å°±å®Œäº‹äº†ã€‚çœ‹çœ‹æ€ä¹ˆåšã€‚\né€šè¿‡æµè§ˆå™¨æä¾›çš„ documnet.styleSheets è®¿é—® cssomï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("accessCssom")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" stylesheet "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("styleSheets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±•å¼€åµŒå¥—çš„è§„åˆ™ï¼ˆå¦‚@mediaå—ï¼‰åˆ°ä¸€ä¸ªå•ç‹¬çš„æ•°ç»„")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rules "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("stylesheet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" prev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssRules "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssRules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†æ¯ä¸ªå±•å¼€çš„è§„åˆ™ï¼Œå¹¶ä¸”æ›¿æ¢randomä¸ºä¸€ä¸ªéšæœºæ•°å­—")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rule "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" rules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" property "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("property"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("99999")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'random'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          rule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("property"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'random'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™ä¸ªåšæ³•çœ‹ä¼¼æ— æ‡ˆå¯å‡»ï¼Œä½†æ˜¯ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨å…¶ä¸­æ‰¾åˆ°randomçš„è¸ªè¿¹ï¼Œæ‰€ä»¥åˆ·æ–°é¡µé¢å¹¶æ²¡æœ‰æƒ³è¦çš„æ•ˆæœï¼ŒåŸå› æ˜¯ï¼Œ"),n("strong",[t._v("æµè§ˆå™¨ç¢°åˆ°ä¸è®¤è¯†çš„csså±æ€§ä¼šç›´æ¥å¿½ç•¥æ‰")]),t._v("ã€‚ã€‚ã€‚ã€‚ğŸ˜¦ï¼Œå¯¼è‡´æˆ‘ä»¬è¿™æ¬¡ä¿®æ”¹cssçš„å°è¯•å¤±è´¥ã€‚")]),t._v(" "),n("h3",{attrs:{id:"ä¿®æ”¹åŸç”Ÿcss"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹åŸç”Ÿcss"}},[t._v("#")]),t._v(" ä¿®æ”¹åŸç”Ÿcss")]),t._v(" "),n("p",[t._v("é‚£æ—¢ç„¶cssomä¸æä¾›ç»™æˆ‘ä»¬æœŸæœ›çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å°±ç›´æ¥ä»æºå¤´ä¸Šå°è¯•ï¼Œç›´æ¥è·å–åŸå§‹çš„cssæ ·å¼æ–‡ä»¶ï¼Œæ‰¾åˆ°randomä¿®æ”¹å®ƒï¼Œè¿™æ ·æ€»å¯ä»¥å§ï¼ï¼ğŸ˜„")]),t._v(" "),n("p",[t._v("è¿™ä¸ªæ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬çš„æ€è·¯æ˜¯ï¼Œéå†DOMæ ‘ï¼Œæ‰¾åˆ°å…¶ä¸­çš„"),n("code",[t._v("<style>")]),t._v(" å’Œ "),n("code",[t._v('<link rel="stylesheet">')]),t._v(" æ ‡ç­¾ï¼Œ"),n("em",[n("strong",[t._v("è·å–å…¶ä¸­çš„ CSS æ ·å¼ã€è§£æã€é‡å†™ï¼Œæœ€åå†åŠ å› DOM æ ‘ä¸­")])]),t._v("ã€‚")]),t._v(" "),n("h4",{attrs:{id:"è·å–é¡µé¢cssæ ·å¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·å–é¡µé¢cssæ ·å¼"}},[t._v("#")]),t._v(" è·å–é¡µé¢cssæ ·å¼")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getPageStyles")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" styleElements "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style, link[rel=\"stylesheet\"]'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹äºå¤–é“¾æ ·å¼ä½¿ç”¨fetchè¯·æ±‚è·å–ï¼Œå†…éƒ¨æ ·å¼è·å–æ ‡ç­¾å†…å®¹")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styleElements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("stylesArray")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" stylesArray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPageStyles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("è·å–åˆ°çš„å…¶ä¸­éƒ¨åˆ†å†…å®¹å¦‚ä¸‹ï¼Œ")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".app")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("random * 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æˆ‘ä»¬é¡ºåˆ©æ‹¿åˆ°äº†æƒ³è¦çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è§£æè¿™äº›cssæ ·å¼æ–‡æœ¬")]),t._v(" "),n("h4",{attrs:{id:"è§£æcssæ ·å¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è§£æcssæ ·å¼"}},[t._v("#")]),t._v(" è§£æcssæ ·å¼")]),t._v(" "),n("p",[t._v("å¦‚ä½•è§£æå‘¢ï¼Ÿæµè§ˆå™¨å¹¶æ²¡æœ‰æä¾›è§£æçš„apiï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªjsæ–¹æ³•æ›¿æ¢å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œä½†æ˜¯é‚£æ ·å¹¶ä¸ä¸¥è°¨ï¼Œè¦å…¼é¡¾åˆ°çš„é—®é¢˜è¿˜å¬åˆ°ï¼Œå…¶ä»–åœ°æ–¹ä¹Ÿå¯èƒ½ä½¿ç”¨åˆ°randomå…³é”®å­—ï¼Œæ¯”å¦‚urlã€contentã€‚å¹¸å¥½è¿˜æœ‰"),n("a",{attrs:{href:"https://postcss.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("postCss"),n("OutboundLink")],1),t._v("ï¼ŒpostCssä¼šæŠŠcssè§£ææˆ"),n("strong",[t._v("AST")]),t._v("ï¼Œç±»ä¼¼è‡ªå®šä¹‰ç‰ˆæœ¬çš„"),n("strong",[t._v("CSSOM")])]),t._v(" "),n("p",[t._v("æ‰§è¡Œ")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPageStyles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" postcss"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ast")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ğŸ‘†ä¸Šé¢çš„cssè§£ææˆè¿™æ ·ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  nodes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rule'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      selector"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('".app"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      nodes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"decl"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          prop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"calc(random * 100%)"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æ‰“å¼€"),n("a",{attrs:{href:"https://minjiechang.github.io/react-css-houdini/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›®ç¤ºä¾‹"),n("OutboundLink")],1),t._v("ï¼Œä½ å¯ä»¥çœ‹åˆ°å®Œæ•´çš„è§£æç»“æœã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(365),alt:"è§£æç»“æœ"}})]),t._v(" "),n("h4",{attrs:{id:"ä¿®æ”¹ast"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹ast"}},[t._v("#")]),t._v(" ä¿®æ”¹ast")]),t._v(" "),n("p",[t._v("ä½¿ç”¨postCssè§£æcssæ–‡æœ¬åï¼Œæ‹¿åˆ°è§£æçš„ASTï¼Œç°åœ¨ä½¿ç”¨postCssæ’ä»¶å®ç°ä¸€ä¸ªpolyfill")]),t._v(" "),n("p",[t._v("å®ç°ä¸€ä¸ªpostCssæ’ä»¶ï¼Œä¿®æ”¹astï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" randomKeywordPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" postcss"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("plugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'random-keyword'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("walkRules")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      rule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("walkDecls")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("decl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("decl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'random'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          decl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" decl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'random'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("å°†ä»¥ä¸Šä»£ç ç»„ç»‡èµ·æ¥ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPageStyles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postcss")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("randomKeywordPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("process")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// result.css å°±æ˜¯æ›¿æ¢åçš„cssæ–‡æœ¬")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h4",{attrs:{id:"æ›¿æ¢cssæ–‡æœ¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ›¿æ¢cssæ–‡æœ¬"}},[t._v("#")]),t._v(" æ›¿æ¢cssæ–‡æœ¬")]),t._v(" "),n("p",[t._v("ä¸Šé¢çš„è¿‡ç¨‹é€šè¿‡astçš„ä¿®æ”¹å†è½¬æ¢ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ–°çš„cssæ–‡æœ¬ï¼Œç°åœ¨åªéœ€è¦å°†è¿™ä¸ªæ–°çš„cssæ–‡æœ¬æ’å…¥åˆ°styleæ ‡ç­¾ä¸­ï¼Œå¹¶åˆ é™¤åŸæœ‰çš„styleæ ‡ç­¾å³å¯å®ç°æ›¿æ¢")]),t._v(" "),n("p",[t._v("æ·»åŠ styleæ ‡ç­¾ï¼Œå¹¶åˆ é™¤åŸæ ‡ç­¾")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("replacePageStyles")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" existingStyles "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style, link[rel=\"stylesheet\"]'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" polyfillStyles "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  polyfillStyles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("polyfillStyles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  existingStyles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("å°†ä»¥ä¸Šä»£ç ç»„ç»‡èµ·æ¥ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPageStyles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postcss")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("randomKeywordPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("process")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// result.css å°±æ˜¯æ›¿æ¢åçš„cssæ–‡æœ¬")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("replacePageStyles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬ç»ˆäºå¤§åŠŸå‘Šæˆå®ç°äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„css polyfillã€‚")]),t._v(" "),n("p",[t._v("å†å›è¿‡å¤´çœ‹ä¸€ä¸‹ï¼Œä¸ºå®ç°è¿™ä¸ª"),n("code",[t._v("random")]),t._v(" çš„ "),n("code",[t._v("polyfill")]),t._v("æ‰€åšçš„å·¥ä½œï¼š")]),t._v(" "),n("ul",[n("li",[t._v("éå†domæ ‘ï¼Œè·å–styleæ ‡ç­¾çš„æ ·å¼åŠå¤–é“¾æ ·å¼")]),t._v(" "),n("li",[t._v("è§£æcss æ–‡æœ¬ä¸ºast")]),t._v(" "),n("li",[t._v("é€šè¿‡astä¿®æ”¹randomå…³é”®å­—")]),t._v(" "),n("li",[t._v("æŠŠastè½¬ä¸ºcssæ–‡æœ¬ï¼Œå¹¶æ›¿ä»£æ—§çš„æ ·å¼")])]),t._v(" "),n("p",[t._v("ä¸ºäº†å®ç°è¿™ä¹ˆä¸€ä¸ªè‡ªå®šä¹‰çš„çš„cssæ ·å¼ï¼Œæˆ‘ä»¬ç»•äº†ä¸€å¤§åœˆï¼Œè™½ç„¶çœ‹èµ·æ¥æ˜¯è¾¾åˆ°äº†ç›®çš„ï¼Œä½†å…¶å®è¿™ç§æ–¹å¼è¿˜å­˜åœ¨è¯¸å¤šé—®é¢˜æ²¡æœ‰è§£å†³ï¼š")]),t._v(" "),n("p",[n("strong",[t._v("å¾…è§£å†³çš„é—®é¢˜")])]),t._v(" "),n("p",[t._v("1ã€å¯¹äºå†…è”æ ·å¼ã€éšè—å…ƒç´ æ— æ³•è¦†ç›–åˆ°ï¼Œæœ¬ä¾‹åªåˆ—ä¸¾äº†styleæ ‡ç­¾åŠlink"),n("br"),t._v("\n2ã€æœªè€ƒè™‘cssé€‰æ‹©å™¨ä¼˜å…ˆçº§è§„åˆ™(æ¯”å¦‚important)ï¼Œè¿™ä¼šå¢åŠ parserå¤æ‚åº¦")]),t._v(" "),n("p",[n("strong",[t._v("ä¸å¯é¿å…çš„é—®é¢˜")])]),t._v(" "),n("p",[t._v("1ã€å¤æ‚åº¦ï¼Œä¸ºäº†å…¼å®¹ä¸€ä¸ªå±æ€§ï¼Œéœ€è¦å¤§é‡çš„é¢å¤–ä»£ç æ”¯æŒ"),n("br"),t._v("\n2ã€æ€§èƒ½ï¼Œæ¯æ¬¡æ‰§è¡Œpolyfilléƒ½æ˜¯ç²—æš´çš„åˆ é™¤ã€æ’å…¥æ ·å¼ï¼Œå¼•èµ·é¡µé¢é‡ç»˜ï¼Œå¯¹äºä¼šé¢‘ç¹è§¦å‘çš„æ“ä½œ(æ¯”å¦‚é¡µé¢æ»šåŠ¨ã€ç¼©æ”¾ç­‰)éœ€è¦é¢‘ç¹è§¦å‘ä¸Šé¢çš„è¿‡ç¨‹ï¼Œå¯¹é¡µé¢æ€§èƒ½æ˜¯å¾ˆå¤§çš„å½±å“"),n("br"),t._v("\n3ã€ä¸ç¨³å®šï¼Œéšç€å¤æ‚åº¦å¢åŠ ï¼Œå¯¼è‡´é”™è¯¯å¢åŠ "),n("br")]),t._v(" "),n("p",[t._v("å¯¹äºé‡ç½®csså¼•èµ·çš„æ€§èƒ½é—®é¢˜å¯ä»¥ç”¨è¿™ä¸ªå›¾è¡¨ç¤ºï¼š\n"),n("img",{attrs:{src:a(366),alt:"æ¸²æŸ“æµç¨‹ç¤ºæ„å›¾"}})]),t._v(" "),n("p",[t._v("å¯ä»¥çœ‹å‡ºï¼ŒJavascriptåœ¨DOMæ„å»ºä¹‹åä¸èƒ½å¹²æ¶‰åŸå§‹çš„æ¸²æŸ“æµç¨‹ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬çš„è¡¥ä¸é€ æˆçš„ä»»ä½•æ”¹å˜éƒ½éœ€è¦æ•´ä¸ªæ¸²æŸ“è¿‡ç¨‹é‡æ–°å¼€å§‹ã€‚")]),t._v(" "),n("h3",{attrs:{id:"æ€»ç»“ä¸€ä¸‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“ä¸€ä¸‹"}},[t._v("#")]),t._v(" æ€»ç»“ä¸€ä¸‹")]),t._v(" "),n("p",[t._v("åœ¨ä¸Šé¢æˆ‘ä»¬è¯•ç€æƒ³å®ç°ä¸€ä¸ªæµè§ˆå™¨å¹¶ä¸æ”¯æŒçš„cssæ ·å¼ï¼Œæœ€ç»ˆæˆ‘ä»¬å‘ç°é‚£å¹¶ä¸å®¹æ˜“ï¼Œå³ä½¿å¯ä»¥å®ç°äº†ä¹Ÿä¾ç„¶å­˜åœ¨å¾ˆå¤§çš„é—®é¢˜ã€‚å®ç°ä¸€ä¸ªæ°‘é—´ç‰ˆæœ¬çš„æ˜¯å¦‚æ­¤è‰°éš¾ï¼Œæˆ‘ä»¬æœŸæœ›æµè§ˆå™¨èƒ½ä¸èƒ½æä¾›è¿™æ ·ä¸€ä¸ªåŠŸèƒ½æˆ–è€…apiè®©æˆ‘ä»¬æ„‰å¿«çš„ç©è€ï¼Ÿ")]),t._v(" "),n("p",[t._v("ç­”æ¡ˆå°±æ˜¯"),n("strong",[t._v("houdini")]),t._v("ï¼ï¼")]),t._v(" "),n("h2",{attrs:{id:"houdini-æ˜¯ä»€ä¹ˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#houdini-æ˜¯ä»€ä¹ˆ"}},[t._v("#")]),t._v(" houdini æ˜¯ä»€ä¹ˆ")]),t._v(" "),n("p",[t._v("å¼•å…¥å®˜æ–¹çš„ä»‹ç»")]),t._v(" "),n("p",[t._v("houdini æ˜¯ W3C æ–°æˆç«‹çš„ä¸€ä¸ªä»»åŠ¡å°ç»„ï¼Œå®ƒçš„ç»ˆæç›®æ ‡æ˜¯å®ç° css å±æ€§çš„å®Œå…¨å…¼å®¹ã€‚Houdini æå‡ºäº†ä¸€ä¸ªå‰æ— å¤äººçš„çš„è®¾æƒ³ï¼šå¼€æ”¾ CSS çš„ API ç»™å¼€å‘è€…ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡è¿™å¥—æ¥å£è‡ªè¡Œæ‰©å±• CSSï¼Œå¹¶æä¾›ç›¸åº”çš„å·¥å…·å…è®¸å¼€å‘è€…ä»‹å…¥æµè§ˆå™¨æ¸²æŸ“å¼•æ“çš„æ ·å¼å’Œå¸ƒå±€æµç¨‹ä¸­ã€‚å®ƒçš„æå‡ºè¦è§£å†³çš„é—®é¢˜å°±æ˜¯")]),t._v(" "),n("ul",[n("li",[t._v("è·¨æµè§ˆå™¨å…¼å®¹é—®é¢˜"),n("br")]),t._v(" "),n("li",[t._v("css polyfill å®ç°å›°éš¾çš„é—®é¢˜")])]),t._v(" "),n("p",[t._v("å…¶å®æ—©åœ¨2016å¹´ï¼Œhoudiniçš„æ¦‚å¿µå°±å·²ç»å‡ºç°äº†ï¼Œåªæ˜¯åˆ°2018å¹´chrome65å‘å¸ƒçš„æ—¶å€™æ‰æ”¯æŒè¿™ä¸€æ–°ç‰¹æ€§ï¼Œå¯ä»¥è¯´å®ƒçš„å‡ºç°æ˜¯cssé¢†åŸŸçš„ä¸€å¤§é©æ–°ï¼Œç½‘ä¸Šæœ‰æ–‡ç« è¯´è¿™æ˜¯cssé¢†åŸŸè¿‘æ¥å‡ å¹´æœ€æŒ¯å¥‹äººå¿ƒçš„é©æ–°ã€‚")]),t._v(" "),n("p",[t._v("ä»ä¸Šé¢çš„ä»‹ç»ä¸­ï¼ŒHoudiniè¦åšçš„æ˜¯æä¾›ä¸€å¥—apiï¼Œè®©å¼€å‘è€…å¯è‡ªè¡Œæ‹“å±•cssï¼Œç»™äºˆå¼€å‘è€…æ›´å¤šçš„æƒé™ã€‚")]),t._v(" "),n("h2",{attrs:{id:"houdiniç›®å‰è¿›å±•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#houdiniç›®å‰è¿›å±•"}},[t._v("#")]),t._v(" houdiniç›®å‰è¿›å±•")]),t._v(" "),n("p",[t._v("å‰é¢æˆ‘ä»¬æåˆ°ï¼Œåœ¨æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…å¾ˆéš¾å¹²æ¶‰åˆ°æ•´ä¸ªæ¸²æŸ“è¿‡ç¨‹ï¼Œé™¤äº†DOMå’ŒCSSOMï¼Œhoudiniç»„ç»‡ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜æå‡ºäº†ä¸€äº›æ–°çš„æ ‡å‡†ï¼Œç»™äºˆå¼€å‘è€…æ›´å¤šæƒé™ä»‹å…¥å¦å¤–å‡ ä¸ªæ¸²æŸ“ç¯èŠ‚ï¼Œä¸‹é¢è¿™å¼ å›¾ç‰‡å±•ç¤ºçš„æ˜¯æ¯ä¸ªç¯èŠ‚å¯¹åº”çš„æ–°æ ‡å‡†ï¼Œå¼€å‘è€…å¯ä»¥ç”¨è¿™äº›æ ‡å‡†æ¥æ§åˆ¶å¯¹åº”çš„ç¯èŠ‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(367),alt:"houdiniè¿›å±•"}})]),t._v(" "),n("p",[t._v("å…¶ä¸­ç°è‰²éƒ¨åˆ†è¿˜åœ¨å®ç°ä¸­ï¼Œç›®å‰ä¸èƒ½ä½¿ç”¨ï¼Œä¸‹é¢æˆ‘ä»¬å…ˆä»‹ç»å‡ ä¸ªå¯ç”¨çš„apiï¼Œåç»­æœ‰å…¶ä»–apiæœ‰æ›´æ–°äº†å†è¡¥å……")]),t._v(" "),n("h3",{attrs:{id:"css-properties-and-values-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-properties-and-values-api"}},[t._v("#")]),t._v(" CSS Properties and Values API")]),t._v(" "),n("p",[t._v("è‡ªå®šä¹‰å±æ€§å€¼apiï¼Œå®ƒæä¾›äº†registerPropertyæ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬åœ¨cssä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„å±æ€§ï¼Œæˆ‘ä»¬çœ‹çœ‹ä½¿ç”¨è¿™ä¸ªapiå®ç°ä¸€ä¸ª"),n("strong",[t._v("houdiniç‰ˆçš„random")]),t._v("å±æ€§")]),t._v(" "),n("p",[t._v("é—®ï¼ŒæŠŠå¤§è±¡å¡å…¥å†°ç®±éœ€è¦å‡ æ­¥ï¼Ÿ")]),t._v(" "),n("p",[t._v("ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§"),n("br")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--my-len'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    syntax"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<number>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    inherits"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    initialValue"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("æ³¨ï¼Œä¸ºäº†é¿å…å’Œä¸Šé¢çš„randomå†²çªï¼Œè¿™é‡Œä½¿ç”¨ --my-len æ¥è¡¨ç¤ºéšæœºæ•°å±æ€§")])]),t._v(" "),n("p",[t._v("ç¬¬äºŒæ­¥ï¼šä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰å±æ€§"),n("br")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".home")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("var")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("--my-len"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" * 100%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".home:hover")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("--my-len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.65"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ä½ ä¼šå‘ç°ï¼Œå°±æ˜¯è¿™ä¹ˆçš„ç®€å•ï¼Œåªéœ€ä¸¤æ­¥ï¼Œæ²¡æœ‰ä¸Šé¢çš„é‚£äº›å¤æ‚çš„è¿‡ç¨‹ã€‚")]),t._v(" "),n("p",[t._v("åŒæ ·ï¼Œè¿˜å¯ä»¥ä½¿ç”¨jsæ§åˆ¶è‡ªå®šä¹‰æ ·å¼")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setProp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.home'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--my-len'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span onClick"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setProp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("click me"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("éœ€è¦æ³¨æ„å‡ ä¸ªå°ç»†èŠ‚"),n("br"),t._v("\n1ã€nameï¼šè‡ªå®šä¹‰å±æ€§åï¼Œéœ€è¦ä»¥åŒæ¨ªçº¿--å¼€å¤´"),n("br"),t._v("\n2ã€syntaxï¼šè¯­æ³•ï¼Œè¡¨ç¤ºå±æ€§å€¼çš„ç±»å‹ï¼Œå…·ä½“çš„å€¼å¯"),n("a",{attrs:{href:"https://drafts.css-houdini.org/css-properties-values-api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‚è€ƒè¿™é‡Œ"),n("OutboundLink")],1),n("br"),t._v("\n3ã€inheritsï¼šç»§æ‰¿æ€§ï¼Œè‡ªå®šå±æ€§å€¼æ˜¯å¦å¯è¢«å­å…ƒç´ ç»§æ‰¿"),n("br"),t._v("\n4ã€initialValueï¼šåˆå§‹å€¼")])]),t._v(" "),n("p",[t._v("æ‰“å¼€"),n("a",{attrs:{href:"https://minjiechang.github.io/react-css-houdini/#/useHoudini",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›®ç¤ºä¾‹"),n("OutboundLink")],1),t._v("æŸ¥çœ‹")]),t._v(" "),n("blockquote",[n("p",[t._v("å¦‚æœæ‰“å¼€é¡¹ç›®æ— æ³•ç”Ÿæ•ˆï¼Œéœ€å‘€åœ¨chormeä¸­è¾“å…¥chrome://flags/#enable-experimental-web-platform-featuresï¼Œç„¶åå°†Experimental Web Platform featuresè¿™æƒ³è®¾ç½®ä¸ºEnabled")])]),t._v(" "),n("p",[t._v("æ€»ç»“ä¸€ä¸‹ï¼Œä½¿ç”¨è‡ªå®šä¹‰å±æ€§å€¼apiï¼Œå¯ä»¥å¸¦æ¥è¿™å‡ ç‚¹ä¾¿åˆ©æ€§ï¼š")]),t._v(" "),n("p",[t._v("1ã€ä½¿ç”¨è‡ªå®šä¹‰å±æ€§ï¼ŒåŠ¨æ€æ§åˆ¶æŸä¸ªcsså±æ€§å€¼ï¼Œè¿™å¯¹äºå®ç°åŠ¨ç”»æ•ˆæœéå¸¸ä¾¿åˆ©ï¼Œè€Œç°åœ¨çš„æŠ€æœ¯æˆ‘ä»¬ä¼¼ä¹åŠä¸åˆ°"),n("br"),t._v("\n2ã€ä¹Ÿå¯ä½¿ç”¨jsæ§åˆ¶è‡ªå®šä¹‰å±æ€§"),n("br"),t._v("\n3ã€è§£å†³ä¸€äº›å±æ€§çš„å…¼å®¹æ€§é—®é¢˜")]),t._v(" "),n("h3",{attrs:{id:"css-painting-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-painting-api"}},[t._v("#")]),t._v(" CSS Painting API")]),t._v(" "),n("p",[t._v("è¿™ä¸ªapiæä¾›ä¸€ä¸ªregisterPaintæ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰çš„ç»˜åˆ¶æ–¹æ³•åï¼Œåœ¨cssä¸­ä½¿ç”¨çš„ä½¿ç”¨è°ƒç”¨paint()æ–¹æ³•ï¼Œä¼ å…¥è‡ªå®šä¹‰çš„åç§°å³å¯ï¼Œåœ¨CSSå±æ€§å¦‚ background-image, border-image, mask-image, å¯ä½¿ç”¨paintå‡½æ•°")]),t._v(" "),n("p",[t._v("å’Œè‡ªå®šä¹‰å±æ€§ä¸­apiä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªapiçš„æ³¨å†Œä½¿ç”¨éœ€è¦æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š")]),t._v(" "),n("p",[t._v("1ã€å®šä¹‰ä¸€ä¸ªpaintWorklet module")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerWorklet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"paintWorklet"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä½¿ç”¨æœ¬åœ°æ–‡ä»¶åœ°å€ï¼Œä¹Ÿå¯ä½¿ç”¨çº¿ä¸Šæ–‡ä»¶")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paintWorklet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addModule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUBLIC_URL")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/paintWorklet/headerHighlight.js")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerWorklet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("2ã€ä½¿ç”¨registerPaintæ³¨å†ŒheaderHighlightç±»")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerPaint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'headerHighlight'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ç”»å¸ƒçš„é€æ˜åº¦")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("contextOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("alpha"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å…ƒç´ è‡ªèº«å±æ€§å€¼")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inputProperties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--checkerboard-spacing'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--checkerboard-size'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¤APIæš‚æ—¶è¿˜ä¸æ”¯æŒ")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inputArguments")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<length>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * \n   * @param {Object} ctx ä¸€ä¸ªcanvaså¯¹è±¡\n   * @param {Object} size {width, height}\n   * @param {Map} properties è·å– inputProperties è¿”å›çš„å€¼\n   * @param {Array} args è·å– inputArguments è¿”å›å€¼\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("paint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" properties"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t  ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hsla(55, 90%, 60%)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fillRect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ctx.fillRect( 0, size.height / 3, size.width * 0.4, size.height * 0.6 );")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è‡ªå®šä¹‰åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç±»ï¼Œåœ¨å®šä¹‰ç±»ä¸­æœ‰å‡ ä¸ªå›ºå®šæ–¹æ³•ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("static get contextOptionsï¼šregisterPaintåŸºäºcanvasï¼Œè¿™ä¸ªæ–¹æ³•è®¾ç½®ç”»å¸ƒçš„é€æ˜åº¦ï¼Œé»˜è®¤è¿”å›true"),n("br")]),t._v(" "),n("li",[t._v("static get inputPropertiesï¼šè¿™ä¸ªæ–¹æ³•è¿”å›å…ƒç´ è‡ªèº«çš„å±æ€§ï¼Œä¾›canvaså¯¹è±¡ä½¿ç”¨"),n("br")]),t._v(" "),n("li",[t._v("static get inputArgumentsï¼šè°ƒç”¨paint()æ–¹æ³•å¯ä»¥ä¼ å…¥å‚æ•°ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯è¿”å›ä¼ å…¥çš„å‚æ•°çš„ç±»å‹ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ç›®å‰åœ¨chromeè¿˜ä¸æ”¯æŒ"),n("br")]),t._v(" "),n("li",[t._v("paint ç»˜åˆ¶å‡½æ•°ï¼Œæ¥æ”¶å››ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯canvaså¯¹è±¡ï¼Œåé¢ä¸‰ä¸ªå‚æ•°æ¥æ”¶ä¸Šé¢ä¸‰ä¸ªå‡½æ•°è¿”å›çš„ç»“æœï¼Œæœ‰äº†è‡ªå®šä¹‰å‚æ•°ï¼Œå¯ä»¥ç»™canvasçš„ç»˜åˆ¶å¸¦æ¥æå¤§çš„çµæ´»åº¦")])]),t._v(" "),n("p",[t._v("3ã€åœ¨cssä¸­è°ƒç”¨paintæ–¹æ³•")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".fancy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("--checkerboard-spacing")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("--checkerboard-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("paint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("headerHighlight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æ‰“å¼€"),n("a",{attrs:{href:"https://minjiechang.github.io/react-css-houdini/#/paint",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›®ç¤ºä¾‹"),n("OutboundLink")],1),t._v("ï¼ŒæŸ¥çœ‹åœ¨reactä¸­ä½¿ç”¨")]),t._v(" "),n("p",[t._v("æ€»ç»“ä¸€ä¸‹paint apiçš„ä¼˜åŠ¿ï¼š")]),t._v(" "),n("p",[t._v("1ã€å¼•å…¥canvaï¼Œå¯è§£å†³åŸç”Ÿcssæ— æ³•è§£å†³çš„é—®é¢˜ï¼Œå‡å°‘ä½¿ç”¨ä¸å¿…è¦çš„å…ƒç´ "),n("br"),t._v("\n2ã€ç›¸åŒçš„æ•ˆæœå¯å¤ç”¨"),n("br"),t._v("\n3ã€å‘æŒ¥canvaså¨åŠ›ï¼Œåˆ¶ä½œä¸€äº›ä¸è§„åˆ™å›¾å½¢"),n("br"),t._v("\n4ã€write js in css")]),t._v(" "),n("h3",{attrs:{id:"worklet"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#worklet"}},[t._v("#")]),t._v(" Worklet")]),t._v(" "),n("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸ª"),n("a",{attrs:{href:"https://drafts.css-houdini.org/worklets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("worklet"),n("OutboundLink")],1),t._v("çš„æ¦‚å¿µ")]),t._v(" "),n("p",[t._v("Worklets çš„æ¦‚å¿µå’Œ web worker ç±»ä¼¼ï¼Œå®ƒä»¬å…è®¸ä½ å¼•å…¥è„šæœ¬æ–‡ä»¶å¹¶æ‰§è¡Œç‰¹å®šçš„ JS ä»£ç ï¼Œè¿™æ ·çš„ JS ä»£ç è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šç¬¬ä¸€ï¼Œå¯ä»¥åœ¨æ¸²æŸ“æµç¨‹ä¸­è°ƒç”¨ï¼›ç¬¬äºŒï¼Œå’Œä¸»çº¿ç¨‹ç‹¬ç«‹ã€‚")]),t._v(" "),n("p",[t._v("Worklet æ˜¯ä¸€ä¸ªéå¸¸è½»é‡ä¸”é«˜åº¦ç‰¹åˆ«çš„workerã€‚å®ƒå¯ä»¥è®©å¼€å‘è€…åœ¨æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ä¸­çš„å¤šä¸ªéƒ¨åˆ†åšé’©å­ã€‚")]),t._v(" "),n("p",[t._v("paint workletå¯¹åº”ç€æ¸²æŸ“çš„painté˜¶æ®µï¼Œlayout workletå¯¹åº”ç€æ¸²æŸ“è¿‡ç¨‹çš„layouté˜¶æ®µ")]),t._v(" "),n("p",[t._v("æ‰€ä»¥æ³¨å†Œpaintæ–¹æ³•éœ€è¦æ”¾åˆ°ç‹¬ç«‹çš„jsæ–‡ä»¶ä¸­ï¼Œè®©æµè§ˆå™¨çš„WorkletåŠ è½½æ‰§è¡Œã€‚")]),t._v(" "),n("p",[t._v("é‚£æ—¢ç„¶Workletså’Œweb workerç±»ä¼¼ï¼Œé‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨web workerå‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("å› ä¸º Houdini æ˜¯å¸Œæœ›å°†å¼€å‘è€…çš„ç¨‹å¼ç  hook åˆ° CSS engine ä¸­è¿ä½œï¼Œè€Œæ ¹æ®è§„èŒƒå…§çš„å™è¿°ï¼Œweb worker ç›¸å¯¹ç¬¨é‡ï¼Œä¸é€‚åˆç”¨æ¥å¤„ç† CSS engine é€™ç§å¯èƒ½ä¼šç‰µæ‰¯åˆ°æ•°ç™¾ä¸‡åƒç´ å›¾ç‰‡çš„å·¥ä½œã€‚")]),t._v(" "),n("p",[t._v("æ‰€ä»¥å¯ä»¥æ¨æ–­ï¼ŒWorklets çš„ç‰¹ç‚¹å°±æ˜¯è½»é‡ä»¥åŠç”Ÿå‘½å‘¨æœŸè¾ƒçŸ­ã€‚")]),t._v(" "),n("p",[t._v("å»¶ä¼¸ï¼š"),n("a",{attrs:{href:"https://www.javascriptcn.com/read-52409.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web workerï¼Œservice workerå’Œworklet"),n("OutboundLink")],1),t._v("ã€\n"),n("a",{attrs:{href:"https://segmentfault.com/a/1190000014520786",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¸²æŸ“çš„compositioné˜¶æ®µ"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"css-layout-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-layout-api"}},[t._v("#")]),t._v(" CSS Layout API")]),t._v(" "),n("p",[t._v("æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦å®ç°ä¸€äº›æ¯”è¾ƒå¤æ‚çš„å¸ƒå±€ç»“æ„ï¼Œå…‰é csså®ç°èµ·æ¥ä¼šæ¯”è¾ƒå›°éš¾ï¼ŒåŒæ—¶å¾€å¾€ä¹Ÿä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½ä¸Šçš„é—®é¢˜ï¼Œè€ŒCSS Layout APIå¯ä»¥ç»™å¼€å‘è€…æä¾›å®ç°å¤æ‚å¸ƒå±€çš„èƒ½åŠ›")]),t._v(" "),n("p",[t._v("å’Œpainting APIç±»ä¼¼ï¼Œè¿™ä¸ªapiæä¾›ä¸€ä¸ªregisterLayoutæ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰å¸ƒå±€æ¨¡å—ï¼Œåœ¨cssä¸­ä½¿ç”¨çš„ä½¿ç”¨è°ƒç”¨paint()æ–¹æ³•ï¼Œä¼ å…¥è‡ªå®šä¹‰çš„å¸ƒå±€æ¨¡å—åç§°å³å¯ã€‚è‡ªå®šä¹‰çš„å¸ƒå±€æ¨¡å—ä¸»è¦ä½œç”¨äºdisplayå±æ€§")]),t._v(" "),n("p",[t._v("è¿™ä¸ªapiçš„æ³¨å†Œä½¿ç”¨ä¹Ÿéœ€è¦æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªapiæ¥å®ç°ä¸€ä¸ªç€‘å¸ƒæµçš„çš„è‡ªå®šä¹‰å¸ƒå±€masonryï¼š")]),t._v(" "),n("p",[t._v("1ã€å®šä¹‰ä¸€ä¸ªlayoutWorklet module")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerWorklet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'layoutWorklet'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layoutWorklet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addModule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUBLIC_URL")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/layoutWorklet/masonry.js")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerWorklet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("2ã€ä½¿ç”¨registerLayoutæ³¨å†Œmasonryç±»")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerLayout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'masonry'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inputProperties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--padding'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--columns'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("intrinsicSizes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* TODO implement :) */")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("layout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" edges"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constraints"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" styleMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// fixedInlineSize å¸ƒå±€ç›’å­çš„å®½åº¦ï¼Œç›¸å½“äºwidht")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" inlineSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" constraints"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fixedInlineSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–è‡ªå®šä¹‰å±æ€§")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" padding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styleMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--padding'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" columnValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" styleMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--columns'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—å‡ºæœ‰å‡ åˆ—")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" columns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auto'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("columns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      columns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ceil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inlineSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("350")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MAGIC NUMBER \\o/.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®åˆ—æ•°ï¼Œè®¡ç®—å‡ºæ¯åˆ—çš„å®½åº¦")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" childInlineSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inlineSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" padding"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" columns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" childFragments "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("child")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("layoutNextFragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fixedInlineSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" childInlineSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" autoBlockSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" columnOffsets "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" childFragment "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" childFragments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Select the column with the least amount of stuff in it.")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n       * æ‰¾å‡ºé«˜åº¦æœ€å°çš„é‚£åˆ—\n       * val æ˜¯æœ€å°é‚£åˆ—çš„é«˜åº¦\n       * idx æ˜¯æœ€å°é‚£åˆ—çš„åˆ—æ•°\n       */")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" min "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" columnOffsets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("acc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" idx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("acc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" acc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("idx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" acc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" idx"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n       * inlineOffset è®¡ç®—æ¯ä¸ªå­å…ƒç´ çš„æ¨ªå‘åç§»ä½ç½®\n       * blockOffset è®¡ç®—æ¯ä¸ªå­å…ƒç´ çš„çºµå‘åç§»ä½ç½®\n       * ç›¸å½“äº position çš„ left å’Œ top\n       */")]),t._v("\n      childFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inlineOffset "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" padding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("childInlineSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" padding"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" min"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      childFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("blockOffset "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" padding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" min"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n       * æ›´æ–°æ•°ç»„ä¸­æœ€å°åˆ—çš„é«˜åº¦\n       * blockOffset + blockSize\n       * like top + height\n       * å†æ›´æ–°æœ€å¤–å±‚å…ƒç´ çš„é«˜åº¦\n       */")]),t._v("\n      columnOffsets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("min"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" childFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("blockOffset "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" childFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("blockSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      autoBlockSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("autoBlockSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" columnOffsets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("min"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" padding"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœ€ç»ˆå¾—åˆ°æ‰€æœ‰çš„å­å…ƒç´ çš„å¸ƒå±€çš„ä½ç½®åŠçˆ¶çº§å…ƒç´ çš„é«˜åº¦")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("autoBlockSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" childFragments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("3ã€åœ¨cssä¸­è°ƒç”¨layoutæ–¹æ³•")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".masonry")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("layout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("masonry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("--padding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("--columns")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æ‰“å¼€"),n("a",{attrs:{href:"https://minjiechang.github.io/react-css-houdini/#/layout",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›®ç¤ºä¾‹"),n("OutboundLink")],1),t._v("ï¼ŒæŸ¥çœ‹åœ¨reactä¸­ä½¿ç”¨")]),t._v(" "),n("p",[t._v("å®é™…ä¸Šï¼Œè¿™é‡Œä½¿ç”¨registerLayoutå®ç°çš„ç€‘å¸ƒæµçš„å¸ƒå±€æ–¹å¼å’Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨jsçš„æ–¹å¼å®ç°å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œåè€Œæ˜¯å‡ºç°äº†ä¸€äº›ç”Ÿåƒ»çš„å±æ€§åŠ å¤§äº†æˆ‘ä»¬ç†è§£çš„éš¾åº¦ï¼Œé‚£å®ƒçš„ä¼˜åŠ¿åˆ°åº•åœ¨å“ªå‘¢ï¼Ÿæˆ‘ä¸ªäººè®¤ä¸ºä¸»è¦æœ‰è¿™å‡ ç‚¹ï¼š")]),t._v(" "),n("p",[t._v("1ã€æ€§èƒ½é—®é¢˜ï¼Œjsçš„æ‰§è¡Œå’Œæµè§ˆå™¨æ¸²æŸ“æ˜¯äº’æ–¥çš„ï¼Œæ¯æ¬¡æ‰§è¡Œjsçš„è®¡ç®—ä¼šå½±å“é¡µé¢çš„åˆ·æ–°ï¼Œä½†æ˜¯registerLayoutæ˜¯åœ¨workletä¸­è¿›è¡Œï¼Œä¸ä¸»çº¿ç¨‹éš”ç¦»äº’ä¸å½±å“ï¼Œæ€§èƒ½è¦å¥½"),n("br"),t._v("\n2ã€ä½¿ç”¨ç›¸å¯¹ç®€å•ï¼Œå®é™…ä¸Šå¦‚æœæˆ‘ä»¬è¿˜ä¸èƒ½ç†è§£å®ƒçš„å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬åªéœ€è¦è·å–å¯¹åº”çš„jsæ–‡ä»¶åï¼Œæ”¾å…¥é¡¹ç›®ä¸­ï¼Œè°ƒç”¨layout()æ–¹æ³•å³å¯ï¼Œå°±åƒåœ¨reactä¸­ä½¿ç”¨åˆ«äººçš„ç»„ä»¶åº“é‚£æ ·æ–¹ä¾¿ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),n("p",[t._v("ä»¥ä¸Šï¼Œæˆ‘ä»¬åˆ†æäº†å½“å‰csså¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›æ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜ï¼Œç„¶åå°è¯•ä½¿ç”¨css polyfill çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯åœ¨cssçš„ä¸–ç•Œä¸­ï¼Œä»¥åŠå½“å‰æµè§ˆå™¨çš„é™åˆ¶å› ç´ ï¼Œå®ç°polyfillè¿˜æ˜¯æœ‰ä¸€äº›å›°éš¾çš„ã€‚ä¸ºäº†è§£å†³å¼€å‘è€…çš„è¿™äº›éœ€æ±‚ï¼Œw3cç»„ç»‡æ¨å‡ºäº†houdiniï¼Œç»™äºˆå¼€å‘è€…æ›´å¤šçš„æƒé™ã€‚")]),t._v(" "),n("p",[t._v("ç„¶åæˆ‘ä»¬ä»‹ç»äº†ç›®å‰houdiniçš„å‘å±•ç°çŠ¶ï¼Œå¹¶åœ¨"),n("strong",[t._v("reacté¡¹ç›®")]),t._v("ä¸­å¯¹ç›¸å…³çš„apiåšäº†å°è¯•ï¼Œå¹¶ä¸”æƒŠå–œçš„å‘ç°ï¼Œå®ƒå¯ä»¥è½»è€Œæ˜“ä¸¾çš„å®ç°æˆ‘ä»¬ä¹‹å‰é¢å¯¹çš„æ£˜æ‰‹é—®é¢˜ã€‚")]),t._v(" "),n("p",[t._v("å½“ç„¶ï¼Œä»¥ä¸Šçš„apiä»‹ç»å¹¶ä¸æ˜¯houdiniçš„å…¨éƒ¨ï¼Œè¿˜æœ‰å‡ ä¸ªapiç›®å‰è¿˜æ²¡æœ‰åˆ«çº³å…¥åˆ°è§„èŒƒä¸­ï¼Œæµè§ˆå™¨ä¹Ÿè¿˜æ²¡æœ‰æ”¯æŒï¼Œæ¯”å¦‚"),n("code",[t._v("CSS Parsing API")]),t._v("ã€"),n("code",[t._v("CSS Typed OM")]),t._v("ã€"),n("code",[t._v("composited scrolling and animation")]),t._v("ç­‰ï¼Œè¿™é‡Œå…ˆæš‚ä¸ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ‰¾èµ„æ–™çœ‹çœ‹ï¼Œåé¢å®Œå–„åå†åšæ›´æ–°ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æœ€å"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å"}},[t._v("#")]),t._v(" æœ€å")]),t._v(" "),n("p",[t._v("æœ€åæƒ³è¯´çš„æ˜¯ï¼Œæ¯é¡¹æ–°æŠ€æœ¯çš„è¯ç”Ÿï¼Œä»å®ƒçš„åŠŸèƒ½æå‡ºï¼Œåˆ°è¢«çº³å…¥æ ‡å‡†ï¼Œå†åˆ°è¢«æ­£å¼æŠ•å…¥ä½¿ç”¨ï¼Œè¿™å…¶ä¸­è‚¯å®šä¼šç»å†æ¯”è¾ƒé•¿çš„è¿‡ç¨‹ï¼Œjså¦‚æ­¤ï¼Œæƒ³å¿…cssæ›´ç”š(å‚è€ƒflexçš„è¿‡ç¨‹)")]),t._v(" "),n("p",[t._v("ä½†æ˜¯ä¸å¯å¦è®¤çš„æ˜¯ï¼Œhoudiniçš„å‡ºç°ç¡®å®èƒ½å¸®æˆ‘ä»¬è§£å†³ä¸€äº›csså¼€å‘éš¾ç‚¹ï¼Œå¯¹äºå®ƒçš„æœªæ¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠ±ç€ä¸€å®šçš„å¸Œæœ›çš„ï¼Œå¸Œæœ›å®ƒçš„åˆ°æ¥èƒ½ç»™cssçš„ä¸–ç•Œå¸¦æ¥æ›´å¤šæœ‰æ„æ€çš„äº‹æƒ…ã€‚")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬ç”šè‡³å¯ä»¥ç•…æƒ³åœ¨æœªæ¥ï¼Œcss houdiniçš„æŠ€æœ¯è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒåï¼Œhoudiniç¤¾åŒºçš„ä¸€äº›å¼€æºçš„è‡ªå®šä¹‰æ¨¡å—paintingã€layoutã€property-and-valueç­‰æ˜¯å¦å°†å˜å¾—éå¸¸ç¹è£ï¼Œå°±åƒç°åœ¨åŸºäºreactã€vueçš„ç»„ä»¶åº“é‚£æ ·ï¼Ÿå¦‚æœæ˜¯é‚£æ ·çš„è¯ï¼Œè¿™å°†å¯¹äºcssæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„å˜é©ï¼Œå¯¹å‰ç«¯å¼€å‘è€…ä¹Ÿå°†æ˜¯éå¸¸æœ‰ç›Šçš„ï¼ï¼")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/MinjieChang/react-css-houdini",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›®åœ°å€"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://minjiechang.github.io/react-css-houdini/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›®ç¤ºä¾‹"),n("OutboundLink")],1),n("br")]),t._v(" "),n("h3",{attrs:{id:"å‚è€ƒæ–‡æ¡£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡æ¡£"}},[t._v("#")]),t._v(" å‚è€ƒæ–‡æ¡£")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.w3.org/TR/css-properties-values-api-1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("w3c"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/CSS_Painting_API/Guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("w3c è‹±æ–‡ç‰ˆ"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Houdini",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://www.w3ctech.com/topic/1979",target:"_blank",rel:"noopener noreferrer"}},[t._v("polyfillçš„ç—›æ¥š"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://github.com/GoogleChromeLabs/houdini-samples",target:"_blank",rel:"noopener noreferrer"}},[t._v("GoogleChromeLabs"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://googlechromelabs.github.io/houdini-samples/",target:"_blank",rel:"noopener noreferrer"}},[t._v("houdini-samples"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://www.w3cplus.com/css/css-houdini.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("w3c-houdini"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"http://www.danielcwilson.com/blog/2018/02/houdini-quickstart/",target:"_blank",rel:"noopener noreferrer"}},[t._v("houdini-quickstart"),n("OutboundLink")],1),n("br")])])}),[],!1,null,null,null);s.default=e.exports}}]);